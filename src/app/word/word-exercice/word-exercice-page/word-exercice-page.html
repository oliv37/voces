<app-meta
  robots="noindex, nofollow"
  [description]="metaDescription()"
  [og]="metaOg()"
/>

@if(word(); as word) {
<app-top-bar [isHighlighted]="isCompleted()" />

<div
  appVisibleIfClient
  class="flex flex-col items-center gap-8 min-h-[calc(100dvh-6rem)] cursor-default"
>
  <div class="text-3xl sm:text-6xl text-gray-700 tracking-wide wrap-anywhere">
    {{ word.fr }}
  </div>

  <div class="flex-1 flex flex-col justify-start sm:justify-center">
    @if (level() === 1) {
    <app-word-exercice-level-1
      #exerciceLevelCmp
      [word]="word.es"
      [example]="word.example"
      (next)="nextWord()"
    ></app-word-exercice-level-1>
    } @else if (level() === 2) {
    <app-word-exercice-level-2
      #exerciceLevelCmp
      [word]="word.es"
      (next)="nextWord()"
    ></app-word-exercice-level-2>
    }
  </div>

  <div class="flex flex-col items-center gap-9">
    <app-word-exercice-progress-bar
      [wordIdx]="wordIdx()"
      [nbWords]="nbWords()"
      [progressPercent]="progressPercent()"
      [bgColor]="isWordGroupCompleted() ? 'bg-blue-600' : 'bg-gray-900'"
    />
    <app-word-exercice-button-bar
      [level]="level()"
      [currentWordGroupId]="wordGroup().id"
      [prevWordGroupId]="prevWordGroupId()"
      [nextWordGroupId]="nextWordGroupId()"
      [questionFillColor]="
          hasUsedHelp() ? 'fill-red-600' : 'fill-neutral-900'
        "
      [starFillColor]="
          isWordGroupCompleted()
            ? 'fill-blue-600'
            : 'fill-gray-900'
        "
      (levelChange)="setLevel($event)"
      (patchQuestion)="help()"
      (arrowClockwise)="resetLevel()"
    />
  </div>
</div>
}
